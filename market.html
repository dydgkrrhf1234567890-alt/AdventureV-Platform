<!DOCTYPE html>
<html>
<head>
    <title>AdventureV : The Alchemist's Market</title>
    <style>
        body { background-color: #0d1117; color: #c9d1d9; font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; text-align: center; padding: 20px; }
        .card { background: #161b22; border: 1px solid #30363d; border-radius: 15px; padding: 30px; max-width: 400px; margin: 0 auto; box-shadow: 0 0 20px rgba(0,0,0,0.5); }
        h2 { color: #58a6ff; border-bottom: 2px solid #30363d; padding-bottom: 10px; }
        .balance-box { background: #0d1117; padding: 15px; border-radius: 10px; margin: 20px 0; border: 1px solid #30363d; }
        .label { font-size: 14px; color: #8b949e; }
        .value { font-size: 24px; font-weight: bold; color: #f2cc60; }
        .cash-value { font-size: 24px; font-weight: bold; color: #2ea043; }
        .exchange-btn { 
            width: 100%; padding: 15px; font-size: 18px; font-weight: bold; 
            color: white; background: #238636; border: none; border-radius: 8px; 
            cursor: pointer; transition: 0.2s; margin-top: 10px;
        }
        .exchange-btn:hover { background: #2ea043; }
        .back-btn { background: transparent; border: 1px solid #8b949e; color: #8b949e; margin-top: 20px; padding: 10px 20px; border-radius: 5px; cursor: pointer; }
    </style>
</head>
<body>
    <div class="card">
        <h2>ğŸ’§ The Alchemist's Market</h2>
        <p>ê³¨ë“œë¥¼ í˜„ê¸ˆ(KRW)ìœ¼ë¡œ ë³€í™˜í•©ë‹ˆë‹¤.</p>

        <div class="balance-box">
            <div class="label">ë³´ìœ  ê³¨ë“œ (Gold)</div>
            <div id="myGold" class="value">0 G</div>
        </div>

        <div style="font-size: 30px;">â¬‡ï¸</div>

        <div class="balance-box">
            <div class="label">ì˜ˆìƒ í˜„ê¸ˆ (Cash)</div>
            <div id="estCash" class="cash-value">0 KRW</div>
        </div>

        <button class="exchange-btn" onclick="convertGold()">í™˜ì „ ì‹¤í–‰ (Exchange)</button>
        <br>
        <button class="back-btn" onclick="location.href='lobby.html'">â—€ ì»¤ë§¨ë“œ ì„¼í„°ë¡œ ë³µê·€</button>
    </div>

    <script>
        // [Mâ™¥R] ë§ˆë²•ì˜ ì§€ê°‘ (localStorage) ë¶ˆëŸ¬ì˜¤ê¸°
        let currentGold = localStorage.getItem('adv_gold') ? parseInt(localStorage.getItem('adv_gold')) : 0;
        let currentCash = localStorage.getItem('adv_cash') ? parseInt(localStorage.getItem('adv_cash')) : 0;
        let exchangeRate = 100; // 1ê³¨ë“œ = 100ì› (ì‹œì„¸ ì ìš©!)

        // í™”ë©´ì— í‘œì‹œ
        document.getElementById('myGold').innerText = currentGold + " G";
        document.getElementById('estCash').innerText = (currentGold * exchangeRate).toLocaleString() + " KRW";

        function convertGold() {
            if (currentGold <= 0) {
                alert("âš ï¸ í™˜ì „í•  ê³¨ë“œê°€ ë¶€ì¡±í•©ë‹ˆë‹¤! ì±„êµ´ì„ ë¨¼ì € ì§„í–‰í•˜ì„¸ìš”.");
                return;
            }

            // í™˜ì „ ë¡œì§ (API ì‹œë®¬ë ˆì´ì…˜)
            let cashAmount = currentGold * exchangeRate;
            
            if(confirm(currentGold + " Gë¥¼ " + cashAmount.toLocaleString() + "ì›ìœ¼ë¡œ í™˜ì „í•˜ì‹œê² ìŠµë‹ˆê¹Œ?")) {
                currentCash += cashAmount;
                currentGold = 0; // ê³¨ë“œ ì†Œì§„

                // ë°ì´í„° ì €ì¥
                localStorage.setItem('adv_gold', currentGold);
                localStorage.setItem('adv_cash', currentCash);

                alert("âœ… í™˜ì „ ì™„ë£Œ! " + cashAmount.toLocaleString() + "ì›ì´ ì…ê¸ˆë˜ì—ˆìŠµë‹ˆë‹¤.");
                location.reload(); // ìƒˆë¡œê³ ì¹¨
            }
        }
    </script>
</body>
</html>
