<!DOCTYPE html>
<html>
<head>
    <title>AdventureV : Central Bank</title>
    <style>
        body { background-color: #05090c; color: #c9d1d9; font-family: 'Segoe UI', sans-serif; text-align: center; padding: 20px; }
        .card { background: #161b22; border: 2px solid #00d2ff; border-radius: 15px; padding: 30px; max-width: 450px; margin: 0 auto; box-shadow: 0 0 30px rgba(0, 210, 255, 0.2); }
        h2 { color: #00d2ff; border-bottom: 2px solid #30363d; padding-bottom: 10px; text-transform: uppercase; letter-spacing: 2px; }
        .sub-title { color: #8b949e; font-size: 14px; margin-bottom: 20px; }
        
        .stats-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-bottom: 20px; }
        .stat-box { background: #0d1117; padding: 15px; border-radius: 10px; border: 1px solid #30363d; }
        .label { font-size: 12px; color: #8b949e; margin-bottom: 5px; }
        .value { font-size: 18px; font-weight: bold; color: #fff; }
        .advc-value { color: #00d2ff; text-shadow: 0 0 10px rgba(0, 210, 255, 0.5); font-size: 22px; }

        .btn { 
            width: 100%; padding: 15px; font-size: 16px; font-weight: bold; 
            border: none; border-radius: 8px; cursor: pointer; transition: 0.2s; margin-top: 10px; 
            display: flex; align-items: center; justify-content: center;
        }
        .connect-btn { color: #000; background: #f6851b; } 
        .mint-btn { color: #fff; background: linear-gradient(90deg, #00d2ff, #007bff); box-shadow: 0 0 15px rgba(0, 210, 255, 0.4); }
        .mint-btn:hover { transform: scale(1.02); box-shadow: 0 0 25px rgba(0, 210, 255, 0.6); }
        .back-btn { background: transparent; border: 1px solid #8b949e; color: #8b949e; }
        
        .wallet-address { font-size: 11px; color: #2ea043; margin-top: 5px; word-break: break-all; }
    </style>
</head>
<body>
    <div class="card">
        <h2>ğŸ’ ADVC Central Bank</h2>
        <p class="sub-title">AdventureV Crystal Official Minting Site</p>

        <div class="stats-grid">
            <div class="stat-box">
                <div class="label">ì‹¬ë³¼ (Symbol)</div>
                <div class="value" style="color:#f2cc60;">ADVC</div>
            </div>
            <div class="stat-box">
                <div class="label">ì´ ë°œí–‰ëŸ‰ (Total Supply)</div>
                <div class="value">7,777,777,777</div>
            </div>
        </div>

        <div class="stat-box" style="margin-bottom: 20px; border-color: #00d2ff;">
            <div class="label">ë‚´ ë³´ìœ ëŸ‰ (My Balance)</div>
            <div id="myADVC" class="advc-value">0 ADVC</div>
            <div class="label" style="margin-top:5px;">êµí™˜ ê°€ëŠ¥ ê³¨ë“œ: <span id="myGold" style="color:#f2cc60;">0 G</span></div>
        </div>

        <div id="wallet-section">
            <button class="btn connect-btn" onclick="connectWallet()">
                ğŸ¦Š 1. ì§€ê°‘ ì—°ê²° (Connect)
            </button>
            <div id="myAddress" class="wallet-address"></div>
        </div>

        <button class="btn mint-btn" onclick="mintToken()">
            ğŸ’ 2. ADVC í† í° ë°œí–‰ & ìˆ˜ë ¹ (Mint)
        </button>
        
        <br>
        <button class="btn back-btn" onclick="location.href='lobby.html'">â—€ ì»¤ë§¨ë“œ ì„¼í„°ë¡œ ë³µê·€</button>
    </div>

    <script>
        // [Mâ™¥R] ì¡°íêµ­ ì„¤ì • (Token Config)
        const TOKEN_NAME = "AdventureV Crystal";
        const TOKEN_SYMBOL = "ADVC";
        const TOTAL_SUPPLY = 7777777777;
        const EXCHANGE_RATE = 10; // 1 ê³¨ë“œ = 10 ADVC (í˜œìë¡œìš´ í™˜ìœ¨!)

        // ë°ì´í„° ë¶ˆëŸ¬ì˜¤ê¸°
        let currentGold = localStorage.getItem('adv_gold') ? parseInt(localStorage.getItem('adv_gold')) : 0;
        let myADVC = localStorage.getItem('adv_token_advc') ? parseInt(localStorage.getItem('adv_token_advc')) : 0;
        let userAccount = null;

        // í™”ë©´ ì´ˆê¸°í™”
        document.getElementById('myGold').innerText = currentGold + " G";
        document.getElementById('myADVC').innerText = myADVC.toLocaleString() + " " + TOKEN_SYMBOL;

        // 1. ì§€ê°‘ ì—°ê²° í•¨ìˆ˜
        async function connectWallet() {
            if (typeof window.ethereum !== 'undefined') {
                try {
                    const accounts = await window.ethereum.request({ method: 'eth_requestAccounts' });
                    userAccount = accounts[0];
                    document.getElementById('myAddress').innerText = "ì§€ê°‘: " + userAccount;
                    alert("âœ… " + TOKEN_NAME + " ì¡°íêµ­ì— ì˜¤ì‹  ê²ƒì„ í™˜ì˜í•©ë‹ˆë‹¤!");
                } catch (error) {
                    alert("âŒ ì˜¤ë¥˜: " + error.message);
                }
            } else {
                alert("ğŸ¦Š ë©”íƒ€ë§ˆìŠ¤í¬ ì•±ì´ í•„ìš”í•©ë‹ˆë‹¤.");
            }
        }

        // 2. í† í° ë°œí–‰(Mint) í•¨ìˆ˜ - ì—¬ê¸°ê°€ í•µì‹¬!
        function mintToken() {
            if (!userAccount) return alert("ë¨¼ì € ì§€ê°‘ì„ ì—°ê²°í•´ì£¼ì„¸ìš”!");
            if (currentGold <= 0) return alert("ë³€í™˜í•  ê³¨ë“œê°€ ì—†ìŠµë‹ˆë‹¤! ì±„êµ´ì„ ë¨¼ì € í•´ì£¼ì„¸ìš”.");

            // í™˜ì „ ê³„ì‚°
            let mintAmount = currentGold * EXCHANGE_RATE;

            if(confirm("ë³´ìœ í•œ " + currentGold + " Gë¥¼ ì†Œê°í•˜ê³ \n\nğŸ’ " + mintAmount.toLocaleString() + " " + TOKEN_SYMBOL + "ë¥¼ ë°œí–‰í•˜ì‹œê² ìŠµë‹ˆê¹Œ?")) {
                
                // [ì‹œë®¬ë ˆì´ì…˜] ë¸”ë¡ì²´ì¸ ê¸°ë¡ (ì‹¤ì œë¡œëŠ” ì—¬ê¸°ì„œ Smart Contract í˜¸ì¶œ)
                myADVC += mintAmount;
                currentGold = 0;

                // ë°ì´í„° ì €ì¥
                localStorage.setItem('adv_gold', currentGold);
                localStorage.setItem('adv_token_advc', myADVC);

                // í™”ë©´ ê°±ì‹ 
                document.getElementById('myGold').innerText = "0 G";
                document.getElementById('myADVC').innerText = myADVC.toLocaleString() + " " + TOKEN_SYMBOL;

                alert("ğŸ‰ [ë°œí–‰ ì„±ê³µ] ì¶•í•˜í•©ë‹ˆë‹¤!\n\n" + mintAmount.toLocaleString() + " ADVCê°€ êµ­ì¥ë‹˜ì˜ ê³„ì¢Œë¡œ ë°œí–‰ë˜ì—ˆìŠµë‹ˆë‹¤.\n(í˜„ì¬ëŠ” ì•± ë‚´ ì§€ê°‘ì— ì•ˆì „í•˜ê²Œ ë³´ê´€ë©ë‹ˆë‹¤.)");
            }
        }
    </script>
</body>
</html>
